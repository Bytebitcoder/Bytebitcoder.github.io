---
layout: post
title: RFID
date: 2019-1-7
tags: 物联网
---

# RFID军事基地
## 技术介绍
射频识别（RFID）是一种无线通信技术，可以通过无线电讯号识别特定目标并读写相关数据，而无需识别系统与特定目标之间建立机械或者光学接触。
无线电的信号是通过调成无线电频率的电磁场，把数据从附着在物品上的标签上传送出去，以自动辨识与追踪该物品。某些标签在识别时从识别器发出的电磁场中就可以得到能量，并不需要电池；也有标签本身拥有电源，并可以主动发出无线电波（调成无线电频率的电磁场）。标签包含了电子存储的信息，数米之内都可以识别。与条形码不同的是，射频标签不需要处在识别器视线之内，也可以嵌入被追踪物体之内。
许多行业都运用了射频识别技术。将标签附着在一辆正在生产中的汽车，厂方便可以追踪此车在生产线上的进度。仓库可以追踪药品的所在。射频标签也可以附于牲畜与宠物上，方便对牲畜与宠物的积极识别（积极识别意思是防止数只牲畜使用同一个身份）。射频识别的身份识别卡可以使员工得以进入锁住的建筑部分，汽车上的射频应答器也可以用来征收收费路段与停车场的费用。

## 场景应用（模拟）
RFID设备部署在三个地方，分别对应着状态管理员，后勤管理员，数据库管理员。状态管理员处的设备是固定的，不可移动，飞机刚降落传感器都是开启的，可以自动通过固定的设备更新标签并上传数据库，所以此设备需要进行循环检测标签。而数据库和后勤管理员那里是可移动的RFID设备，他们更新时飞机是停止的没法直接通过传感器获取飞机现状，所以要手动输入数据，可以读取并改变标签数据。设备的部署图如下图所示：
![](/images/RFID军事基地/1.png)
![](/images/RFID军事基地/2.png)
网络的部署就是保证在同一个局域网下，这个我们模拟的时候使用的同一台电脑来模拟，实际中也是符合的，因为军事基地一般是有他们自己的局域网。

## 目标
### 目标
物联网越来越深入人类活动的方方面面，而智能识别技术在其中占据重要地位。那么我们可以将RFID技术应用在军事基地中，将每一个战斗机绑定一个RFID标签，系统存储每一个战机的状态信息。工作人员通过扫描RFID标签，可以写入或者读取该战机的状态信息。这样可以使整个工作流程更加的有条不紊，效率更高。整个军事基地的战机状况在MySQL数据库中也有存储，方便整体统筹作战调动。
同时因为军事基地的隐秘性，我们需要严格的加密制度。
### 用户的特点
本产品的状态管理员与后勤管理员不需要太高的文化水平，但要保证对祖国对党忠诚，不会泄露国家机密。
而数据库管理员需要对数据库进行统筹的管理，他可以增加删除飞机标签，也要会对数据库信息进行维护，保证整体的正常运行。
考虑到后勤管理员可能来源不同，为了提升整体的安全性，我们为后勤管理员进行分级，低等级的后勤人员无法修改高等级的飞机数据。
### 假定和约束
本产品的开发工作主要有如下约束，首先是经费上，一个高频的射频设备比较昂贵，而去网上买低频的射频设备的效果又不好，所以我们运行过程不能完全模拟实际的情况。
又由于标签的数量和类型有限，所以我们会是用少量的例子来模拟结果，效果可能会有偏差。

## 需求规定
### 人员及功能权限
![](/images/RFID军事基地/3.png)
### 性能
* 精度
用户名：字母数字字符组成。（不能为空）<br>
密码：字母数字字符组成。（不能为空）<br>
飞机清洁度：0-99（整数）<br>
飞机油量：0-99（整数）<br>
飞机弹药量：0-9999（整数）<br>
飞机id：0-9999（整数）<br>

* 延迟设定
使用读写器进行读写操作的时候sleep：500ms<br>
数据显示：1ms<br>
数据库更新：20ms<br>

* 输入输出要求
用户名：输入输出都是字符串；<br>
密码：输入字符串，输出黑点。<br>
飞机id与飞机的弹药量：输入字符串<br>
飞机清洁度与油量：选择标签<br>
数据库管理员查询操作：输入字符串<br>

* 数据管理分类
  * 状态管理员：
  1. 只需要在飞机到来的时候更新飞机状态。
  * 后勤管理员：
    1. 使用设备查询飞机状态
    2. 对飞机维护后更新飞机标签以及上传数据库
  * 数据库管理员：
    1. 增加删除飞机标签
    2. 总览飞机数据
    3. 查询某一飞机状态

* 安全需求
因为我们做的军事基地的RFID设计，那么我们的安全性很重要，所以我们设计的写标签数据的时候要用的密码是动态变化的，后勤管理员要更改标签数据，需要向数据库请求密码，这样就可以防止有人去恶意修改飞机标签中的内容。
在用户信息的数据库里存储的方法使用SHA256的方式加密，这样能够有效的保证数据的安全性。

## 设计
### 流程
![](/images/RFID军事基地/4.png)
### 结构
![](/images/RFID军事基地/5.png)
### 功能需求和程序的关系
||db查询|db更新|db添加|db删除|rf读|rf写密码|rf写数据|
||:-:|:-:|:-:|:-:|:-:|:-:|:-:|
|增加用户|||√|||||
|新增飞机信息|||√|||√|√|
|删除飞机信息||||√||√|√|
|查询飞机信息|√||||√|||
|总览飞机信息|√|||||||
|更新标签信息||√|||√|√||
|查询标签信息|√||||√|||
|等级判断|√|||||||
|动态密码判断||√||||√||
### 运行时间
查询标签内容：500ms<br>
在进行数据更新时：600ms<br>
在进行查询操作的时候：20ms<br>
其他操作：10ms<br>
### 表
* 数据库管理员
![](/images/RFID军事基地/6.png)
* 状态管理员
![](/images/RFID军事基地/7.png)
* 后勤管理员
![](/images/RFID军事基地/8.png)
* 飞机信息表
![](/images/RFID军事基地/9.png) 
* RFID标签格式
![](/images/RFID军事基地/10.png) 
* 数据区格式
![](/images/RFID军事基地/11.png)

## 运行示意
* 界面
![](/images/RFID军事基地/12.png)
* 登陆数据库管理员
![](/images/RFID军事基地/13.png)
* 数据库管理员的操作一览（默认的是纵览数据）
![](/images/RFID军事基地/14.png)
* 查询某一架飞机的信息
![](/images/RFID军事基地/15.png)
* 添加一架飞机，同时会添加到标签中。
![](/images/RFID军事基地/16.png)
* 数据库中已经加入。
![](/images/RFID军事基地/17.png)
* 接下来看状态管理员，我们可以看到，数据已经写到标签里。
![](/images/RFID军事基地/18.png)
* 更新状态，因为每一次飞行结束，数据都会更改，所以我们要更新状态。
![](/images/RFID军事基地/19.png)
* 状态管理员更新结束，数据库中数据也更新了。
![](/images/RFID军事基地/20.png)
* 后勤管理员读取到标签信息
![](/images/RFID军事基地/21.png)

* 维护飞机后，更新飞机状态。在这里为了保证安全，更新的时候先判断后勤管理员的等级能否更改这个标签，然后再向数据库请求标签密码，然后使用这个密码像标签中写入数据，再将密码进行随机的更改，最后将数据存入数据库中。这样我们实现了密码的动态更改，能够增加我们系统的安全性。
![](/images/RFID军事基地/22.png)
* 最后我们可以看到数据已经更改。可以进行下一次飞行。
